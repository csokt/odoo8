<?xml version="1.0"?>
<openerp>
  <data>
    <!--####################################################################################################################  Mecmor  -->
    <record id="view_form_mecmor"    model="ir.ui.view">
      <field name="name">Mecmor Form</field>
      <field name="model">kotode.mecmor</field>
      <field name="arch" type="xml">
        <form>
          <group col="4">
            <field name="cimke"/>
            <field name="datum"/>
            <field name="gep"/>
            <field name="kod"/>
            <field name="adat1"/>
            <field name="adat2"/>
            <field name="adat3"/>
            <field name="muszak"/>
            <field name="eltelt_ido"/>
            <field name="azonosito"/>
          </group>
        </form>
      </field>
    </record>

    <record id="view_tree_mecmor"    model="ir.ui.view">
      <field  name="name">Mecmor Tree</field>
      <field  name="model">kotode.mecmor</field>
      <field  name="arch" type="xml">
        <tree>
          <field name="cimke"/>
          <field name="datum"/>
          <field name="gep"/>
          <field name="kod"/>
          <field name="adat1"/>
          <field name="adat2"/>
          <field name="adat3"/>
          <field name="muszak"/>
          <field name="eltelt_ido"/>
        </tree>
      </field>
    </record>

    <record id="view_filter_view_tree_mecmor"    model="ir.ui.view">
      <field  name="name">Mecmor Filter</field>
      <field  name="model">kotode.mecmor</field>
      <field  name="arch" type="xml">
        <search>
          <field  name="datum"/>
          <filter name="filter_szedes"      string="Szedés"                 domain="[('cimke','=','szedes')]"/>
          <filter name="filter_allas"       string="Szedés állás"           domain="[('cimke','=','allas')]"/>
          <filter name="filter_hiba"        string="Hiba"                   domain="[('cimke','=','hiba')]"/>
          <separator/>
          <filter name="filter_mecmor1"     string="Mecmor1"                domain="[('gep','=','mecmor1')]"/>
          <filter name="filter_mecmor2"     string="Mecmor2"                domain="[('gep','=','mecmor2')]"/>
          <filter name="filter_mecmor3"     string="Mecmor3"                domain="[('gep','=','mecmor3')]"/>
          <filter name="filter_mecmor4"     string="Mecmor4"                domain="[('gep','=','mecmor4')]"/>
          <filter name="filter_mecmor5"     string="Mecmor5"                domain="[('gep','=','mecmor5')]"/>
          <filter name="filter_mecmor6"     string="Mecmor6"                domain="[('gep','=','mecmor6')]"/>
          <separator/>
          <filter name="filter_muszak1"     string="Műszak1"                domain="[('muszak','=','műszak1')]"/>
          <filter name="filter_muszak2"     string="Műszak2"                domain="[('muszak','=','műszak2')]"/>
          <filter name="filter_muszak3_1"   string="Műszak3/1"              domain="[('muszak','=','műszak3/1')]"/>
          <filter name="filter_muszak3_2"   string="Műszak3/2"              domain="[('muszak','=','műszak3/2')]"/>
          <separator/>
          <filter name="filter_2perc"       string="2 perc"                domain="[('eltelt_ido','>',120)]"/>
          <filter name="filter_5perc"       string="5 perc"                domain="[('eltelt_ido','>',300)]"/>
          <separator/>
          <filter domain="[('datum','&lt;=', datetime.datetime.combine(context_today()-datetime.timedelta(days=1), datetime.time(23,59,59))),
                           ('datum','&gt;=', datetime.datetime.combine(context_today()-datetime.timedelta(days=1), datetime.time(0,0,0)))]"
                  string="Tegnap" help="Tegnap rögzített adatok"/>
          <filter domain="[('datum','&lt;=', datetime.datetime.combine(context_today(), datetime.time(23,59,59))),
                           ('datum','&gt;=', datetime.datetime.combine(context_today(), datetime.time(0,0,0)))]"
                  string="Ma" help="A mai napon rögzített adatok"/>
        </search>
      </field>
    </record>

    <record id="view_graph_mecmor_ertekel" model="ir.ui.view">
     <field name="name">kotode.mecmor_ertekel.graph</field>
     <field name="model">kotode.mecmor</field>
     <field name="arch" type="xml">
       <graph string="Jelenlét értékelés" type="pivot">
         <field name="datum"              type="row"/>
         <field name="muszak"             type="col"/>
       </graph>
     </field>
    </record>


    <!--####################################################################################################################  Actions  -->
    <act_window id="mecmor"               name="Mecmor"               res_model="kotode.mecmor"                                                       view_mode="tree,form"/>
    <act_window id="mecmor_ertekel"       name="Mecmor értékelés"     res_model="kotode.mecmor"        view_id="view_graph_mecmor_ertekel"            view_mode="graph"
                                                                      context="{'search_default_filter_szedes':1}"/>

    <!--####################################################################################################################  Menu  items  -->
    <menuitem id="menu_root"              name="Kötöde"                       sequence="64"                       groups="group_kotode_viewer" />

    <menuitem id="menu_korkoto"           name="Körkötő"                      parent="menu_root"                  sequence="10" />
      <menuitem id="menu_mecmor"          name="Mecmor"                       parent="menu_korkoto"               sequence="10" action="mecmor" />

    <menuitem id="menu_kimutatas"         name="Kimutatások"                  parent="menu_root"                  sequence="90"                         />
      <menuitem id="menu_mecmor_ertekel"  name="Mecmor értékelés"             parent="menu_kimutatas"             sequence="10" action="mecmor_ertekel" />

<!--
-->
  </data>
</openerp>
