<?xml version="1.0"?>
<openerp>
  <data>
    <!--####################################################################################################################  Mecmor  -->
    <record id="view_form_mecmor"    model="ir.ui.view">
      <field name="name">Mecmor Form</field>
      <field name="model">kotode.mecmor</field>
      <field name="arch" type="xml">
        <form>
          <sheet>
            <group col="4">
              <field name="cimke"/>
              <field name="datum"/>
              <field name="gep"/>
              <field name="kod"/>
              <field name="adat1"/>
              <field name="adat2"/>
              <field name="adat3"/>
              <field name="muszak"/>
              <field name="eltelt_ido"/>
              <field name="eltelt_ido_perc"/>
              <field name="azonosito"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <record id="view_tree_mecmor"    model="ir.ui.view">
      <field  name="name">Mecmor Tree</field>
      <field  name="model">kotode.mecmor</field>
      <field  name="arch" type="xml">
        <tree>
          <field name="cimke"/>
          <field name="datum"/>
          <field name="gep"/>
          <field name="kod"/>
          <field name="adat1"/>
          <field name="adat2"/>
          <field name="adat3"/>
          <field name="muszak"/>
          <field name="eltelt_ido"/>
          <field name="eltelt_ido_perc"/>
        </tree>
      </field>
    </record>

    <record id="view_filter_view_tree_mecmor"    model="ir.ui.view">
      <field  name="name">Mecmor Filter</field>
      <field  name="model">kotode.mecmor</field>
      <field  name="arch" type="xml">
        <search>
          <field  name="azonosito"/>
          <filter name="filter_szedes"      string="Szedés"                 domain="[('cimke','=','szedes')]"/>
          <filter name="filter_allas"       string="Szedés állás"           domain="[('cimke','=','allas')]"/>
          <filter name="filter_hiba"        string="Hiba"                   domain="[('cimke','=','hiba')]"/>
          <separator/>
          <filter name="filter_mecmor1"     string="Mecmor1"                domain="[('gep','=','mecmor1')]"/>
          <filter name="filter_mecmor2"     string="Mecmor2"                domain="[('gep','=','mecmor2')]"/>
          <filter name="filter_mecmor3"     string="Mecmor3"                domain="[('gep','=','mecmor3')]"/>
          <filter name="filter_mecmor4"     string="Mecmor4"                domain="[('gep','=','mecmor4')]"/>
          <filter name="filter_mecmor5"     string="Mecmor5"                domain="[('gep','=','mecmor5')]"/>
          <filter name="filter_mecmor6"     string="Mecmor6"                domain="[('gep','=','mecmor6')]"/>
          <separator/>
          <filter name="filter_muszak1"     string="Műszak1"                domain="[('muszak','=','műszak1')]"/>
          <filter name="filter_muszak2"     string="Műszak2"                domain="[('muszak','=','műszak2')]"/>
          <filter name="filter_muszak3_1"   string="Műszak3/1"              domain="[('muszak','=','műszak3/1')]"/>
          <filter name="filter_muszak3_2"   string="Műszak3/2"              domain="[('muszak','=','műszak3/2')]"/>
          <separator/>
          <filter name="filter_2perc"       string="2 perc"                domain="[('eltelt_ido','>',120)]"/>
          <filter name="filter_5perc"       string="5 perc"                domain="[('eltelt_ido','>',300)]"/>
          <separator/>
          <filter domain="[('datum','&lt;=', datetime.datetime.combine(context_today()-datetime.timedelta(days=1), datetime.time(23,59,59))),
                           ('datum','&gt;=', datetime.datetime.combine(context_today()-datetime.timedelta(days=1), datetime.time(0,0,0)))]"
                  string="Tegnap" help="Tegnap rögzített adatok"/>
          <filter domain="[('datum','&lt;=', datetime.datetime.combine(context_today(), datetime.time(23,59,59))),
                           ('datum','&gt;=', datetime.datetime.combine(context_today(), datetime.time(0,0,0)))]"
                  string="Ma" help="A mai napon rögzített adatok"/>
        </search>
      </field>
    </record>

    <record id="view_graph_mecmor_ertekel" model="ir.ui.view">
     <field name="name">kotode.mecmor_ertekel.graph</field>
     <field name="model">kotode.mecmor</field>
     <field name="arch" type="xml">
       <graph string="Mecmor értékelés"   type="pivot">
         <field name="datum"              type="row"/>
         <field name="muszak"             type="col"/>
       </graph>
     </field>
    </record>


    <!--####################################################################################################################  Kötőgép log  -->
    <record id="view_form_kotogep_log"    model="ir.ui.view">
      <field name="name">Kötőgép log Form</field>
      <field name="model">kotode.kotogep_log</field>
      <field name="arch" type="xml">
        <form>
          <sheet>
            <group col="4">
              <field name="jelzes"/>
              <field name="datum"/>
              <field name="uzem"/>
              <field name="gepazonosito"/>
              <field name="gep"/>
              <field name="muszak"/>
              <field name="idotartam"/>
              <field name="idotartam_perc"/>
              <field name="idotartam_ora"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <record id="view_tree_kotogep_log"    model="ir.ui.view">
      <field  name="name">Kötőgép log Tree</field>
      <field  name="model">kotode.kotogep_log</field>
      <field  name="arch" type="xml">
        <tree>
          <field name="jelzes"/>
          <field name="datum"/>
          <field name="uzem"/>
          <field name="gepazonosito"/>
          <field name="gep"/>
          <field name="muszak"/>
          <field name="idotartam"/>
          <field name="idotartam_perc"/>
          <field name="idotartam_ora"/>
        </tree>
      </field>
    </record>

    <record id="view_filter_view_tree_kotogep_log"    model="ir.ui.view">
      <field  name="name">Kötőgép log Filter</field>
      <field  name="model">kotode.kotogep_log</field>
      <field  name="arch" type="xml">
        <search>
          <field  name="gep"/>
          <filter name="filter_termel"      string="Termel"                 domain="[('jelzes','=','termel')]"/>
          <filter name="filter_all"         string="Áll"                    domain="[('jelzes','=','all')]"/>
          <filter name="filter_hiba"        string="Hibával áll"            domain="[('jelzes','=','hiba')]"/>
          <separator/>
          <filter name="filter_kor"         string="Körkötő"                domain="[('uzem','=','kor')]"/>
          <filter name="filter_sik"         string="Síkkötő"                domain="[('uzem','=','sik')]"/>
          <separator/>
          <filter name="filter_muszak1"     string="Műszak1"                domain="[('muszak','=','műszak1')]"/>
          <filter name="filter_muszak2"     string="Műszak2"                domain="[('muszak','=','műszak2')]"/>
          <filter name="filter_muszak3_1"   string="Műszak3/1"              domain="[('muszak','=','műszak3/1')]"/>
          <filter name="filter_muszak3_2"   string="Műszak3/2"              domain="[('muszak','=','műszak3/2')]"/>
          <separator/>
          <filter domain="[('datum','&lt;=', datetime.datetime.combine(context_today()-datetime.timedelta(days=1), datetime.time(23,59,59))),
                           ('datum','&gt;=', datetime.datetime.combine(context_today()-datetime.timedelta(days=1), datetime.time(0,0,0)))]"
                  string="Tegnap" help="Tegnap rögzített adatok"/>
          <filter domain="[('datum','&lt;=', datetime.datetime.combine(context_today(), datetime.time(23,59,59))),
                           ('datum','&gt;=', datetime.datetime.combine(context_today(), datetime.time(0,0,0)))]"
                  string="Ma" help="A mai napon rögzített adatok"/>
        </search>
      </field>
    </record>

    <record id="view_graph_kotogep_ertekel" model="ir.ui.view">
     <field name="name">kotode.kotogep_log_ertekel.graph</field>
     <field name="model">kotode.kotogep_log</field>
     <field name="arch" type="xml">
       <graph string="Kötőgép értékelés"  type="pivot">
         <field name="datum"              type="row"/>
         <field name="muszak"             type="col"/>
       </graph>
     </field>
    </record>

    <!--####################################################################################################################  Státusz log  -->
    <record id="view_form_status_log"    model="ir.ui.view">
      <field name="name">Státusz log Form</field>
      <field name="model">kotode.status_log</field>
      <field name="arch" type="xml">
        <form>
          <sheet>
            <group col="4">
              <field name="jelzes"/>
              <field name="datum"/>
              <field name="uzem"/>
              <field name="gepazonosito"/>
              <field name="gep"/>
              <field name="muszak"/>
              <field name="idotartam"/>
              <field name="idotartam_perc"/>
              <field name="idotartam_ora"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <record id="view_tree_status_log"    model="ir.ui.view">
      <field  name="name">Státusz log Tree</field>
      <field  name="model">kotode.status_log</field>
      <field  name="arch" type="xml">
        <tree>
          <field name="jelzes"/>
          <field name="datum"/>
          <field name="uzem"/>
          <field name="gepazonosito"/>
          <field name="gep"/>
          <field name="muszak"/>
          <field name="idotartam"/>
          <field name="idotartam_perc"/>
          <field name="idotartam_ora"/>
        </tree>
      </field>
    </record>

    <record id="view_filter_view_tree_status_log"    model="ir.ui.view">
      <field  name="name">Státusz log Filter</field>
      <field  name="model">kotode.status_log</field>
      <field  name="arch" type="xml">
        <search>
          <field  name="gep"/>
          <filter name="filter_online"      string="Elérhető"               domain="[('jelzes','=','online')]"/>
          <filter name="filter_offline"     string="Nem elérhető"           domain="[('jelzes','=','offline')]"/>
          <separator/>
          <filter name="filter_kor"         string="Körkötő"                domain="[('uzem','=','kor')]"/>
          <filter name="filter_sik"         string="Síkkötő"                domain="[('uzem','=','sik')]"/>
          <separator/>
          <filter name="filter_muszak1"     string="Műszak1"                domain="[('muszak','=','műszak1')]"/>
          <filter name="filter_muszak2"     string="Műszak2"                domain="[('muszak','=','műszak2')]"/>
          <filter name="filter_muszak3_1"   string="Műszak3/1"              domain="[('muszak','=','műszak3/1')]"/>
          <filter name="filter_muszak3_2"   string="Műszak3/2"              domain="[('muszak','=','műszak3/2')]"/>
          <separator/>
          <filter domain="[('datum','&lt;=', datetime.datetime.combine(context_today()-datetime.timedelta(days=1), datetime.time(23,59,59))),
                           ('datum','&gt;=', datetime.datetime.combine(context_today()-datetime.timedelta(days=1), datetime.time(0,0,0)))]"
                  string="Tegnap" help="Tegnap rögzített adatok"/>
          <filter domain="[('datum','&lt;=', datetime.datetime.combine(context_today(), datetime.time(23,59,59))),
                           ('datum','&gt;=', datetime.datetime.combine(context_today(), datetime.time(0,0,0)))]"
                  string="Ma" help="A mai napon rögzített adatok"/>
        </search>
      </field>
    </record>

    <record id="view_graph_status_ertekel" model="ir.ui.view">
     <field name="name">kotode.status_log_ertekel.graph</field>
     <field name="model">kotode.status_log</field>
     <field name="arch" type="xml">
       <graph string="Státusz értékelés"  type="pivot">
         <field name="datum"              type="row"/>
         <field name="muszak"             type="col"/>
       </graph>
     </field>
    </record>

    <!--####################################################################################################################  MQTT log  -->
    <record id="view_tree_mqtt_log"    model="ir.ui.view">
      <field  name="name">Kötőgép log Tree</field>
      <field  name="model">kotode.mqtt_log</field>
      <field  name="arch" type="xml">
        <tree>
          <field name="create_date"/>
          <field name="topic"/>
          <field name="payload"/>
        </tree>
      </field>
    </record>

    <!--####################################################################################################################  Actions  -->
    <act_window id="mecmor"               name="Mecmor"               res_model="kotode.mecmor"                                                       view_mode="tree,form"/>
    <act_window id="kotogep_log"          name="Kötőgépek"            res_model="kotode.kotogep_log"                                                  view_mode="tree,form"/>
    <act_window id="status_log"           name="Státusz"              res_model="kotode.status_log"                                                   view_mode="tree,form"/>
    <act_window id="mqtt_log"             name="MQTT"                 res_model="kotode.mqtt_log"                                                     view_mode="tree,form"/>

    <act_window id="kotogep"              name="Kötőgépek"            res_model="kotode.kotogep"                                                      view_mode="tree,form"/>
    <act_window id="dolgozo"              name="Dolgozók"             res_model="kotode.dolgozo"                                                      view_mode="tree,form"/>
    <act_window id="beosztas"             name="Beosztások"           res_model="kotode.beosztas"                                                     view_mode="tree,form"/>

    <act_window id="kotogep_ertekel"      name="Kötőgép értékelés"    res_model="kotode.kotogep_log"    view_id="view_graph_kotogep_ertekel"          view_mode="graph"
                                                                      context="{'search_default_filter_sik':1}"/>
    <act_window id="status_ertekel"       name="Státusz értékelés"    res_model="kotode.status_log"     view_id="view_graph_status_ertekel"           view_mode="graph"
                                                                      context="{'search_default_filter_sik':1}"/>
    <act_window id="mecmor_ertekel"       name="Mecmor értékelés"     res_model="kotode.mecmor"         view_id="view_graph_mecmor_ertekel"           view_mode="graph"
                                                                      context="{'search_default_filter_szedes':1}"/>
    <!--####################################################################################################################  Menu  items  -->
    <menuitem id="menu_root"              name="Kötöde"                       sequence="64"                       groups="group_kotode_viewer" />

    <menuitem id="menu_log"               name="Logok"                        parent="menu_root"                  sequence="10" />
      <menuitem id="menu_kotogep_log"     name="Kötőgép"                      parent="menu_log"                   sequence="10" action="kotogep_log" />
      <menuitem id="menu_status_log"      name="Státusz"                      parent="menu_log"                   sequence="20" action="status_log" />
      <menuitem id="menu_mecmor"          name="Mecmor"                       parent="menu_log"                   sequence="30" action="mecmor" />
      <menuitem id="menu_mqtt_log"        name="MQTT"                         parent="menu_log"                   sequence="40" action="mqtt_log" />

    <menuitem id="menu_kimutatas"         name="Kimutatások"                  parent="menu_root"                  sequence="20"                         />
      <menuitem id="menu_kotogep_ertekel" name="Kötőgép értékelés"            parent="menu_kimutatas"             sequence="10" action="kotogep_ertekel" />
      <menuitem id="menu_status_ertekel"  name="Státusz értékelés"            parent="menu_kimutatas"             sequence="20" action="status_ertekel" />
      <menuitem id="menu_mecmor_ertekel"  name="Mecmor értékelés"             parent="menu_kimutatas"             sequence="30" action="mecmor_ertekel" />

    <menuitem id="menu_torzsadat"         name="Törzsadatok"                  parent="menu_root"                  sequence="30" />
      <menuitem id="menu_kotogep"         name="Kötőgépek"                    parent="menu_torzsadat"             sequence="10" action="kotogep" />
      <menuitem id="menu_dolgozo"         name="Dolgozók"                     parent="menu_torzsadat"             sequence="20" action="dolgozo" />
      <menuitem id="menu_beosztas"        name="Beosztások"                   parent="menu_torzsadat"             sequence="30" action="beosztas" />

<!--
-->
  </data>
</openerp>
